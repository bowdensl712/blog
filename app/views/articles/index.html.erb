<% content_for :title do %>
<% if @articles.public_count == @all_articles.public_count %>
    <%= t('welcome')%>
  <% else %>
    <%=t('searchResults') %> - Postblog
  <% end %>
<% end %>

<h1><%=t('indexHeader') %></h1>
<%= render "search" %>
<%= render "sort" %>

<!-- 検索-->
<% if @articles.public_count == @all_articles.public_count %>
  <p><%=t('articleCountStart') %> <%= Article.public_count %> <%=t('articleCountEnd') %> </p>
<% elsif @articles.public_count == 0 %>
  <p><%=t('noArticlesFound') %></p>
  <img src="../assets/no_results_found.png" style="all: revert; margin-top: -54px; width: 500px;">
<% elsif @articles.public_count == 1 %>
  <% controller.redirect_to @articles.first %>
<% else %>

  <p><%=t('results') %> <%= @articles.public_count %> <%=t('articlesFound') %></p>
<% end %>


<!-- 記事一覧 -->
<div class="grid">
  <% @articles.each do |article|  %>
    <% unless article.archived? %>
      <%= link_to article, class:"article_thumbnail" do %>
        <%= image_tag article.image_link, class:"thumbnail_image", alt:t('noImageFound')%>
        <div class="thumbnail_text">
          <!-- ↓↓記事の言語を表示する↓↓ -->
          <% if article.language=="English" %>
            🇬🇧
          <% elsif article.language=="Japanese" %>
            🇯🇵
          <% end %>
          <%= article.title%>
        </div>
      <% end %>
    <% end %>
  <% end %>
</div>

<%= link_to t('createArticle'), new_article_path, class: "new_article"  %>

<%= render "footer" %>
